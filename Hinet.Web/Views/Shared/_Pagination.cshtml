@model Hinet.Service.Common.PageListResultBO<Hinet.Service.TaiKhoanService.Dto.TaiKhoanDto>

@{
    var slug = ViewData["Slug"] as string;
    var actionName = ViewData["ActionName"] as string ?? "DanhMuc";

    var current = Model.CurrentPage;
    var total = Model.TotalPage;
    var start = Math.Max(1, current - 2);
    var end = Math.Min(total, current + 2);
}

@if (total > 1)
{
    <div class="default-paginate">
        <ul class="pagination pagination-custom">
            <!-- Previous -->
            <li class="page-item @(current == 1 ? "disabled" : "")">
                <a class="page-link" href="@Url.Action(actionName, "Game", new { slug = slug, page = current - 1 })">«</a>
            </li>

            <!-- First -->
            @if (start > 1)
            {
                <li class="page-item">
                    <a class="page-link" href="@Url.Action(actionName, "Game", new { slug = slug, page = 1 })">1</a>
                </li>
                if (start > 2)
                {
                    <li class="page-item disabled"><span class="page-link">...</span></li>
                }
            }

            <!-- Middle -->
            @for (int i = start; i <= end; i++)
            {
                <li class="page-item @(i == current ? "active" : "")">
                    <a class="page-link" href="@Url.Action(actionName, "Game", new { slug = slug, page = i })">@i</a>
                </li>
            }

            <!-- Last -->
            @if (end < total)
            {
                if (end < total - 1)
                {
                    <li class="page-item disabled"><span class="page-link">...</span></li>
                }
                <li class="page-item">
                    <a class="page-link" href="@Url.Action(actionName, "Game", new { slug = slug, page = total })">@total</a>
                </li>
            }

            <!-- Next -->
            <li class="page-item @(current == total ? "disabled" : "")">
                <a class="page-link" href="@Url.Action(actionName, "Game", new { slug = slug, page = current + 1 })">»</a>
            </li>
        </ul>
    </div>
}
